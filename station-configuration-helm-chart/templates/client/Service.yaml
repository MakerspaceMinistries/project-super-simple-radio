# https://kubernetes.io/docs/reference/kubernetes-api/service-resources/service-v1/
apiVersion: v1
kind: Service
metadata:
  name: {{ .Values.client.name }}-service

# https://kubernetes.io/docs/reference/kubernetes-api/service-resources/service-v1/#ServiceSpec
spec:
  selector:
    app: {{ .Values.client.name }}-label

  ports:
    - protocol: TCP
      port: {{ .Values.client.servicePort }}
      targetPort: {{ .Values.client.containerPort }}

  # https://kubernetes.io/docs/concepts/services-networking/service/#publishing-services-service-types
  type: NodePort